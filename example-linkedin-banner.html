<!DOCTYPE html>
<html>
<head>
    <style>
        body { 
            margin: 0; 
            padding: 20px; 
            background: #0a0e27; 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        
        #controls {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(30, 41, 59, 0.95);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            min-width: 200px;
        }
        
        #controls h3 {
            margin: 0 0 15px 0;
            color: #ffffff;
            font-size: 16px;
        }
        
        .control-group {
            margin-bottom: 15px;
        }
        
        .control-group label {
            display: block;
            color: #94a3b8;
            font-size: 12px;
            margin-bottom: 5px;
        }
        
        .control-group select,
        .control-group input {
            width: 100%;
            padding: 8px;
            border: 1px solid #475569;
            background: #1e293b;
            color: #ffffff;
            border-radius: 4px;
            font-size: 14px;
        }
        
        #download-btn {
            width: 100%;
            padding: 10px 20px;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        #download-btn:hover { 
            background: #2563eb; 
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }
        
        #visualization-container {
            background: #0a0e27;
            border-radius: 8px;
            box-shadow: 0 0 40px rgba(59, 130, 246, 0.2);
            display: inline-block;
        }
        
        /* Theme variations */
        body.light {
            background: #f8fafc;
        }
        
        body.light #visualization-container {
            background: #ffffff;
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.1);
        }
        
        body.light #controls {
            background: rgba(255, 255, 255, 0.95);
        }
        
        body.light #controls h3 {
            color: #1e293b;
        }
        
        body.light .control-group label {
            color: #64748b;
        }
        
        body.light .control-group select,
        body.light .control-group input {
            background: #f1f5f9;
            color: #1e293b;
            border-color: #e2e8f0;
        }
    </style>
</head>
<body>
    <div id="controls">
        <h3>Export Options</h3>
        
        <div class="control-group">
            <label for="filename">Filename</label>
            <input type="text" id="filename" value="linkedin-banner" placeholder="Enter filename">
        </div>
        
        <div class="control-group">
            <label for="format">Format</label>
            <select id="format">
                <option value="png">PNG (Recommended)</option>
                <option value="jpeg">JPEG</option>
                <option value="webp">WebP</option>
            </select>
        </div>
        
        <div class="control-group">
            <label for="scale">Resolution Scale</label>
            <select id="scale">
                <option value="1">1x - Web (1584x396)</option>
                <option value="2" selected>2x - Retina (3168x792)</option>
                <option value="3">3x - High DPI (4752x1188)</option>
                <option value="4">4x - Print (6336x1584)</option>
            </select>
        </div>
        
        <div class="control-group">
            <label for="quality">Quality (JPEG only)</label>
            <input type="range" id="quality" min="0.1" max="1" step="0.1" value="0.9">
            <small style="color: #64748b; font-size: 11px;">90%</small>
        </div>
        
        <div class="control-group">
            <label for="theme">Preview Theme</label>
            <select id="theme" onchange="changeTheme()">
                <option value="dark">Dark</option>
                <option value="light">Light</option>
            </select>
        </div>
        
        <button id="download-btn" onclick="downloadVisualization()">Download</button>
    </div>
    
    <div id="visualization-container">
        <svg id="visualization" width="1584" height="396" viewBox="0 0 1584 396" xmlns="http://www.w3.org/2000/svg">
            <!-- LinkedIn Banner SVG -->
            <defs>
                <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                    <stop offset="0%" style="stop-color:#134e4a"/>
                    <stop offset="50%" style="stop-color:#065f46"/>
                    <stop offset="100%" style="stop-color:#047857"/>
                </linearGradient>
                
                <linearGradient id="textGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color:#10b981"/>
                    <stop offset="100%" style="stop-color:#06d6a0"/>
                </linearGradient>
                
                <pattern id="hexPattern" x="0" y="0" width="40" height="35" patternUnits="userSpaceOnUse">
                    <polygon points="20,5 35,15 35,25 20,35 5,25 5,15" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="1"/>
                </pattern>
            </defs>
            
            <!-- Background -->
            <rect width="1584" height="396" fill="url(#bgGradient)"/>
            
            <!-- Network background pattern -->
            <g opacity="0.06">
                <circle cx="158" cy="59" r="3" fill="white"/>
                <circle cx="316" cy="118" r="3" fill="white"/>
                <circle cx="237" cy="217" r="3" fill="white"/>
                <circle cx="395" cy="297" r="3" fill="white"/>
                <circle cx="1188" cy="79" r="3" fill="white"/>
                <circle cx="1267" cy="158" r="3" fill="white"/>
                <circle cx="1109" cy="257" r="3" fill="white"/>
                <circle cx="554" cy="138" r="3" fill="white"/>
                <circle cx="792" cy="237" r="3" fill="white"/>
                <circle cx="950" cy="316" r="3" fill="white"/>
                
                <line x1="158" y1="59" x2="316" y2="118" stroke="rgba(255,255,255,0.2)" stroke-width="1" transform="rotate(20 158 59)"/>
                <line x1="316" y1="118" x2="237" y2="217" stroke="rgba(255,255,255,0.2)" stroke-width="1" transform="rotate(-10 316 118)"/>
                <line x1="237" y1="217" x2="395" y2="297" stroke="rgba(255,255,255,0.2)" stroke-width="1" transform="rotate(30 237 217)"/>
                <line x1="1188" y1="79" x2="1267" y2="158" stroke="rgba(255,255,255,0.2)" stroke-width="1" transform="rotate(-40 1188 79)"/>
                <line x1="1267" y1="158" x2="1109" y2="257" stroke="rgba(255,255,255,0.2)" stroke-width="1" transform="rotate(15 1267 158)"/>
                <line x1="554" y1="138" x2="792" y2="237" stroke="rgba(255,255,255,0.2)" stroke-width="1" transform="rotate(-25 554 138)"/>
            </g>
            
            <!-- Geometric pattern (left side) -->
            <g transform="translate(120, 58)" opacity="0.12">
                <!-- Background hexagon pattern -->
                <rect width="280" height="280" fill="url(#hexPattern)"/>
                
                <!-- Main geometric shapes -->
                <polygon points="70,70 140,50 210,70 190,140 120,160 50,140" fill="rgba(16,185,129,0.15)" stroke="rgba(16,185,129,0.4)" stroke-width="2"/>
                <polygon points="90,90 140,80 190,90 180,140 130,150 80,140" fill="rgba(6,214,160,0.2)" stroke="rgba(6,214,160,0.6)" stroke-width="2"/>
                
                <!-- Central diamond -->
                <polygon points="140,100 160,140 140,180 120,140" fill="rgba(255,255,255,0.3)" stroke="rgba(255,255,255,0.6)" stroke-width="2"/>
                
                <!-- Floating geometric elements -->
                <circle cx="200" cy="100" r="8" fill="rgba(16,185,129,0.6)" stroke="rgba(16,185,129,0.8)" stroke-width="1"/>
                <circle cx="80" cy="180" r="6" fill="rgba(6,214,160,0.6)" stroke="rgba(6,214,160,0.8)" stroke-width="1"/>
                <circle cx="220" cy="200" r="5" fill="rgba(52,211,153,0.6)" stroke="rgba(52,211,153,0.8)" stroke-width="1"/>
                
                <!-- Triangle accents -->
                <polygon points="60,60 80,60 70,80" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)" stroke-width="1"/>
                <polygon points="200,220 220,220 210,200" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.4)" stroke-width="1"/>
                
                <!-- Connecting lines with organic curves -->
                <path d="M 70 140 Q 140 120 210 140" stroke="rgba(16,185,129,0.3)" stroke-width="2" fill="none"/>
                <path d="M 120 80 Q 140 140 160 200" stroke="rgba(6,214,160,0.3)" stroke-width="2" fill="none"/>
                
                <!-- Small accent dots -->
                <circle cx="110" cy="120" r="3" fill="rgba(255,255,255,0.4)"/>
                <circle cx="170" cy="160" r="3" fill="rgba(255,255,255,0.4)"/>
                <circle cx="150" cy="110" r="2" fill="rgba(16,185,129,0.6)"/>
                <circle cx="130" cy="170" r="2" fill="rgba(6,214,160,0.6)"/>
            </g>
            
            <!-- Text content (right side) -->
            <g transform="translate(624, 40)">
                <text x="700" y="60" text-anchor="end" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif" font-size="48" font-weight="500" fill="white">
                    <tspan fill="url(#textGradient)" font-weight="700">Follow</tspan> for tips on
                </text>
                
                <text x="700" y="120" text-anchor="end" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif" font-size="24" font-weight="500" fill="rgba(255,255,255,0.9)">
                    🤖 Building agents
                </text>
                <text x="700" y="160" text-anchor="end" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif" font-size="24" font-weight="500" fill="rgba(255,255,255,0.9)">
                    🚀 Latest AI models
                </text>
                <text x="700" y="200" text-anchor="end" font-family="-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif" font-size="24" font-weight="500" fill="rgba(255,255,255,0.9)">
                    💼 Building AI native businesses
                </text>
            </g>
        </svg>
    </div>

    <script>
        // Configuration
        const config = {
            defaultFilename: 'linkedin-banner',
            defaultFormat: 'png',
            defaultScale: 2,
            defaultQuality: 0.9
        };
        
        // Update quality label
        document.getElementById('quality').addEventListener('input', function(e) {
            const label = e.target.nextElementSibling;
            label.textContent = Math.round(e.target.value * 100) + '%';
        });
        
        // Theme switcher
        function changeTheme() {
            const theme = document.getElementById('theme').value;
            document.body.className = theme;
        }
        
        // Main download function
        function downloadVisualization() {
            const svg = document.getElementById('visualization');
            const svgData = new XMLSerializer().serializeToString(svg);
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            const img = new Image();
            
            // Get user options
            const filename = document.getElementById('filename').value || config.defaultFilename;
            const format = document.getElementById('format').value;
            const scaleFactor = parseInt(document.getElementById('scale').value);
            const quality = parseFloat(document.getElementById('quality').value);
            
            // Set canvas dimensions
            canvas.width = svg.width.baseVal.value * scaleFactor;
            canvas.height = svg.height.baseVal.value * scaleFactor;
            
            // Scale the context
            ctx.scale(scaleFactor, scaleFactor);
            
            img.onload = function() {
                // Set background for JPEG (doesn't support transparency)
                if (format === 'jpeg') {
                    ctx.fillStyle = '#ffffff';
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                }
                
                // Enable image smoothing
                ctx.imageSmoothingEnabled = true;
                ctx.imageSmoothingQuality = 'high';
                
                // Draw the image
                ctx.drawImage(img, 0, 0);
                
                // Convert to blob and download
                const mimeType = format === 'png' ? 'image/png' : 
                               format === 'jpeg' ? 'image/jpeg' : 
                               'image/webp';
                
                canvas.toBlob(function(blob) {
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `${filename}.${format}`;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }, mimeType, quality);
            };
            
            // Load the SVG as an image
            img.src = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svgData)));
        }
        
        // Keyboard shortcut
        document.addEventListener('keydown', function(e) {
            if ((e.ctrlKey || e.metaKey) && e.key === 's') {
                e.preventDefault();
                downloadVisualization();
            }
        });
    </script>
</body>
</html>